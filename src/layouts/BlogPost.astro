---
import type { CollectionEntry } from "astro:content";
import { Image } from "astro:assets";
// Ganti import BaseHead, Header, Footer
// Kita hanya perlu BaseLayout yang sudah mencakup semuanya
import BaseLayout from "./BaseLayout.astro";
import FormattedDate from "../components/FormattedDate.astro";

type Props = CollectionEntry<"blog">["data"];

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<BaseLayout title={title} description={description}>
    <article class="prose mx-auto my-12 stack gap-10">
        <header class="post-header text-center">
            {
                heroImage && (
                    <div class="hero-image">
                        <Image
                            src={heroImage}
                            alt={title}
                            loading="lazy"
                            decoding="async"
                        />
                    </div>
                )
            }

            <div class="title-wrap">
                <h1 class="title font-bold text-4xl mt-4">{title}</h1>
                <p class="date text-sm text-gray-500">
                    <FormattedDate date={pubDate} />
                </p>
                <p class="mt-4 max-w-2xl mx-auto text-lg">{description}</p>
            </div>
        </header>

        <section class="post-content">
            <slot />
        </section>
    </article>
</BaseLayout>

<style>
    /* Styling dasar untuk konten agar terbaca */
    .post-content :global(h2) {
        margin-top: 2em;
        padding-top: 1em;
        border-top: 1px solid var(--gray-700);
    }
    .post-content :global(pre) {
        /* Memperbaiki tampilan blok kode jika ada */
        overflow-x: auto;
    }

    /* Sesuaikan lebar konten agar tidak terlalu lebar */
    .prose {
        max-width: 720px;
        margin-left: auto;
        margin-right: auto;
    }
</style>
